"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[579],{7648:(n,e,t)=>{t.d(e,{R:()=>s,x:()=>l});var a=t(758);const i={},r=a.createContext(i);function s(n){const e=a.useContext(r);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:s(n.components),a.createElement(r.Provider,{value:e},n.children)}},9221:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"docs/developer-resources/app/app-development","title":"App Plugin Development Guide","description":"Step-by-step guide to building Flutter plugins for Talawa mobile.","source":"@site/docs/docs/developer-resources/app/development.md","sourceDirName":"docs/developer-resources/app","slug":"/developer-resources/app/development","permalink":"/docs/developer-resources/app/development","draft":false,"unlisted":false,"editUrl":"https://github.com/PalisadoesFoundation/talawa-plugin/edit/develop/docs/docs/docs/developer-resources/app/development.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"app-development","title":"App Plugin Development Guide","slug":"/developer-resources/app/development","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"App Plugin Development Introduction","permalink":"/docs/developer-resources/app/introduction"}}');var i=t(6070),r=t(7648);const s={id:"app-development",title:"App Plugin Development Guide",slug:"/developer-resources/app/development",sidebar_position:2},l="App Plugin Development Guide",o={},d=[{value:"Development Workflow",id:"development-workflow",level:2},{value:"Project Setup",id:"project-setup",level:2},{value:"1. Create Plugin Directory",id:"1-create-plugin-directory",level:3},{value:"2. Create File Structure",id:"2-create-file-structure",level:3},{value:"3. Plugin Configuration",id:"3-plugin-configuration",level:3},{value:"Step 1: Define Models",id:"step-1-define-models",level:2},{value:"Create Data Models",id:"create-data-models",level:3},{value:"Step 2: Create Service Layer",id:"step-2-create-service-layer",level:2},{value:"GraphQL Service",id:"graphql-service",level:3},{value:"Local Cache Service",id:"local-cache-service",level:3},{value:"Step 3: State Management",id:"step-3-state-management",level:2},{value:"Provider Setup",id:"provider-setup",level:3},{value:"Step 4: Build UI Components",id:"step-4-build-ui-components",level:2},{value:"Main Dashboard Screen",id:"main-dashboard-screen",level:3},{value:"Reusable Widgets",id:"reusable-widgets",level:3},{value:"Step 5: Plugin Entry Point",id:"step-5-plugin-entry-point",level:2},{value:"Step 6: Testing",id:"step-6-testing",level:2},{value:"Step 7: Package Plugin",id:"step-7-package-plugin",level:2},{value:"Create README",id:"create-readme",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Performance",id:"performance",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Accessibility",id:"accessibility",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"Resources",id:"resources",level:2}];function c(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"app-plugin-development-guide",children:"App Plugin Development Guide"})}),"\n",(0,i.jsx)(e.p,{children:"Step-by-step guide to building Flutter plugins for Talawa mobile."}),"\n",(0,i.jsx)(e.h2,{id:"development-workflow",children:"Development Workflow"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"Setup \u2192 Design \u2192 Implement \u2192 Test \u2192 Package\n"})}),"\n",(0,i.jsx)(e.h2,{id:"project-setup",children:"Project Setup"}),"\n",(0,i.jsx)(e.h3,{id:"1-create-plugin-directory",children:"1. Create Plugin Directory"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"cd talawa/lib/plugins\nmkdir event_analytics\ncd event_analytics\n"})}),"\n",(0,i.jsx)(e.h3,{id:"2-create-file-structure",children:"2. Create File Structure"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"mkdir -p screens widgets services models utils\ntouch plugin.yaml index.dart README.md\n"})}),"\n",(0,i.jsx)(e.h3,{id:"3-plugin-configuration",children:"3. Plugin Configuration"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:"# plugin.yaml\nname: Event Analytics\npluginId: event_analytics\nversion: 1.0.0\ndescription: Analytics and insights for organization events\nauthor: Your Name <email@example.com>\nhomepage: https://github.com/yourname/event-analytics\nlicense: MIT\n\nmetadata:\n  displayName: Event Analytics\n  category: Analytics & Reports\n  icon: assets/analytics_icon.png\n  screenshots:\n    - assets/screenshot1.png\n    - assets/screenshot2.png\n\ndependencies:\n  fl_chart: ^0.65.0\n  intl: ^0.18.0\n\nextensionPoints:\n  screens:\n    - id: analytics_dashboard\n      route: /event-analytics/dashboard\n      title: Analytics Dashboard\n      \n  drawerItems:\n    - id: analytics_menu\n      label: Event Analytics\n      icon: Icons.analytics\n      route: /event-analytics/dashboard\n      order: 50\n      \n  injectors:\n    - id: event_stats\n      location: EVENT_DETAIL_BOTTOM\n      widget: EventStatsWidget\n\npermissions:\n  - READ_EVENTS\n  - READ_USERS\n  - READ_ORGANIZATIONS\n"})}),"\n",(0,i.jsx)(e.h2,{id:"step-1-define-models",children:"Step 1: Define Models"}),"\n",(0,i.jsx)(e.h3,{id:"create-data-models",children:"Create Data Models"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-dart",children:"// models/analytics_data.dart\nclass AnalyticsData {\n  final int totalEvents;\n  final int totalAttendees;\n  final double avgAttendance;\n  final int activeToday;\n  final List<DataPoint> attendance;\n  final List<DataPoint> trends;\n\n  const AnalyticsData({\n    required this.totalEvents,\n    required this.totalAttendees,\n    required this.avgAttendance,\n    required this.activeToday,\n    required this.attendance,\n    required this.trends,\n  });\n\n  factory AnalyticsData.fromJson(Map<String, dynamic> json) {\n    return AnalyticsData(\n      totalEvents: json['totalEvents'] as int,\n      totalAttendees: json['totalAttendees'] as int,\n      avgAttendance: (json['avgAttendance'] as num).toDouble(),\n      activeToday: json['activeToday'] as int,\n      attendance: (json['attendance'] as List)\n          .map((e) => DataPoint.fromJson(e as Map<String, dynamic>))\n          .toList(),\n      trends: (json['trends'] as List)\n          .map((e) => DataPoint.fromJson(e as Map<String, dynamic>))\n          .toList(),\n    );\n  }\n\n  Map<String, dynamic> toJson() => {\n        'totalEvents': totalEvents,\n        'totalAttendees': totalAttendees,\n        'avgAttendance': avgAttendance,\n        'activeToday': activeToday,\n        'attendance': attendance.map((e) => e.toJson()).toList(),\n        'trends': trends.map((e) => e.toJson()).toList(),\n      };\n}\n\nclass DataPoint {\n  final String date;\n  final int count;\n\n  const DataPoint({required this.date, required this.count});\n\n  factory DataPoint.fromJson(Map<String, dynamic> json) {\n    return DataPoint(\n      date: json['date'] as String,\n      count: json['count'] as int,\n    );\n  }\n\n  Map<String, dynamic> toJson() => {\n        'date': date,\n        'count': count,\n      };\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"step-2-create-service-layer",children:"Step 2: Create Service Layer"}),"\n",(0,i.jsx)(e.h3,{id:"graphql-service",children:"GraphQL Service"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-dart",children:"// services/analytics_service.dart\nimport 'package:graphql_flutter/graphql_flutter.dart';\nimport '../models/analytics_data.dart';\n\nclass AnalyticsService {\n  final GraphQLClient _client;\n\n  AnalyticsService(this._client);\n\n  static const String _getAnalyticsQuery = '''\n    query GetAnalytics(\\$orgId: ID!, \\$timeRange: String!) {\n      analytics(orgId: \\$orgId, timeRange: \\$timeRange) {\n        totalEvents\n        totalAttendees\n        avgAttendance\n        activeToday\n        attendance {\n          date\n          count\n        }\n        trends {\n          date\n          count\n        }\n      }\n    }\n  ''';\n\n  Future<AnalyticsData> getAnalytics(String orgId, String timeRange) async {\n    final result = await _client.query(\n      QueryOptions(\n        document: gql(_getAnalyticsQuery),\n        variables: {\n          'orgId': orgId,\n          'timeRange': timeRange,\n        },\n        fetchPolicy: FetchPolicy.networkOnly,\n      ),\n    );\n\n    if (result.hasException) {\n      throw AnalyticsException(\n        'Failed to fetch analytics: ${result.exception}',\n      );\n    }\n\n    if (result.data == null || result.data!['analytics'] == null) {\n      throw AnalyticsException('No analytics data available');\n    }\n\n    return AnalyticsData.fromJson(\n      result.data!['analytics'] as Map<String, dynamic>,\n    );\n  }\n\n  static const String _exportReportMutation = '''\n    mutation ExportAnalyticsReport(\\$input: ExportReportInput!) {\n      exportAnalyticsReport(input: \\$input) {\n        id\n        downloadUrl\n        expiresAt\n      }\n    }\n  ''';\n\n  Future<Map<String, dynamic>> exportReport({\n    required String orgId,\n    required String format,\n    required String timeRange,\n  }) async {\n    final result = await _client.mutate(\n      MutationOptions(\n        document: gql(_exportReportMutation),\n        variables: {\n          'input': {\n            'orgId': orgId,\n            'format': format,\n            'timeRange': timeRange,\n          },\n        },\n      ),\n    );\n\n    if (result.hasException) {\n      throw AnalyticsException(\n        'Failed to export report: ${result.exception}',\n      );\n    }\n\n    return result.data!['exportAnalyticsReport'] as Map<String, dynamic>;\n  }\n}\n\nclass AnalyticsException implements Exception {\n  final String message;\n  AnalyticsException(this.message);\n\n  @override\n  String toString() => message;\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"local-cache-service",children:"Local Cache Service"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-dart",children:"// services/analytics_cache.dart\nimport 'package:hive_flutter/hive_flutter.dart';\nimport '../models/analytics_data.dart';\n\nclass AnalyticsCache {\n  static const String _boxName = 'analytics_cache';\n  late Box<Map> _box;\n\n  Future<void> init() async {\n    _box = await Hive.openBox<Map>(_boxName);\n  }\n\n  String _cacheKey(String orgId, String timeRange) {\n    return '${orgId}_$timeRange';\n  }\n\n  Future<void> cacheAnalytics(\n    String orgId,\n    String timeRange,\n    AnalyticsData data,\n  ) async {\n    final key = _cacheKey(orgId, timeRange);\n    await _box.put(key, {\n      'data': data.toJson(),\n      'timestamp': DateTime.now().toIso8601String(),\n    });\n  }\n\n  AnalyticsData? getCachedAnalytics(String orgId, String timeRange) {\n    final key = _cacheKey(orgId, timeRange);\n    final cached = _box.get(key);\n\n    if (cached == null) return null;\n\n    // Check if cache is still valid (e.g., 5 minutes)\n    final timestamp = DateTime.parse(cached['timestamp'] as String);\n    final age = DateTime.now().difference(timestamp);\n    \n    if (age.inMinutes > 5) {\n      _box.delete(key);\n      return null;\n    }\n\n    return AnalyticsData.fromJson(\n      cached['data'] as Map<String, dynamic>,\n    );\n  }\n\n  Future<void> clearCache() async {\n    await _box.clear();\n  }\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"step-3-state-management",children:"Step 3: State Management"}),"\n",(0,i.jsx)(e.h3,{id:"provider-setup",children:"Provider Setup"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-dart",children:"// services/analytics_provider.dart\nimport 'package:flutter/foundation.dart';\nimport 'package:graphql_flutter/graphql_flutter.dart';\nimport '../models/analytics_data.dart';\nimport 'analytics_service.dart';\nimport 'analytics_cache.dart';\n\nclass AnalyticsProvider with ChangeNotifier {\n  final AnalyticsService _service;\n  final AnalyticsCache _cache;\n\n  AnalyticsProvider(GraphQLClient client)\n      : _service = AnalyticsService(client),\n        _cache = AnalyticsCache();\n\n  AnalyticsData? _data;\n  bool _isLoading = false;\n  String? _error;\n  String _currentTimeRange = 'week';\n\n  AnalyticsData? get data => _data;\n  bool get isLoading => _isLoading;\n  String? get error => _error;\n  String get currentTimeRange => _currentTimeRange;\n\n  Future<void> init() async {\n    await _cache.init();\n  }\n\n  Future<void> loadAnalytics(String orgId, {String? timeRange}) async {\n    final range = timeRange ?? _currentTimeRange;\n    _currentTimeRange = range;\n\n    // Try cache first\n    final cached = _cache.getCachedAnalytics(orgId, range);\n    if (cached != null) {\n      _data = cached;\n      notifyListeners();\n      return;\n    }\n\n    _isLoading = true;\n    _error = null;\n    notifyListeners();\n\n    try {\n      _data = await _service.getAnalytics(orgId, range);\n      await _cache.cacheAnalytics(orgId, range, _data!);\n    } catch (e) {\n      _error = e.toString();\n      _data = null;\n    } finally {\n      _isLoading = false;\n      notifyListeners();\n    }\n  }\n\n  Future<void> refresh(String orgId) async {\n    await _cache.clearCache();\n    await loadAnalytics(orgId);\n  }\n\n  Future<Map<String, dynamic>> exportReport({\n    required String orgId,\n    required String format,\n  }) async {\n    try {\n      return await _service.exportReport(\n        orgId: orgId,\n        format: format,\n        timeRange: _currentTimeRange,\n      );\n    } catch (e) {\n      _error = e.toString();\n      notifyListeners();\n      rethrow;\n    }\n  }\n\n  void setTimeRange(String range) {\n    _currentTimeRange = range;\n    notifyListeners();\n  }\n\n  void clearError() {\n    _error = null;\n    notifyListeners();\n  }\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"step-4-build-ui-components",children:"Step 4: Build UI Components"}),"\n",(0,i.jsx)(e.h3,{id:"main-dashboard-screen",children:"Main Dashboard Screen"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-dart",children:"// screens/analytics_dashboard.dart\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport '../services/analytics_provider.dart';\nimport '../widgets/stats_grid.dart';\nimport '../widgets/analytics_chart.dart';\nimport '../widgets/time_range_selector.dart';\n\nclass AnalyticsDashboard extends StatefulWidget {\n  const AnalyticsDashboard({Key? key}) : super(key: key);\n\n  @override\n  State<AnalyticsDashboard> createState() => _AnalyticsDashboardState();\n}\n\nclass _AnalyticsDashboardState extends State<AnalyticsDashboard> {\n  late String _orgId;\n\n  @override\n  void initState() {\n    super.initState();\n    _orgId = _getCurrentOrgId();\n    WidgetsBinding.instance.addPostFrameCallback((_) {\n      context.read<AnalyticsProvider>().loadAnalytics(_orgId);\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Event Analytics'),\n        actions: [\n          TimeRangeSelector(\n            onChanged: (range) {\n              context.read<AnalyticsProvider>().loadAnalytics(\n                    _orgId,\n                    timeRange: range,\n                  );\n            },\n          ),\n          IconButton(\n            icon: const Icon(Icons.refresh),\n            onPressed: () {\n              context.read<AnalyticsProvider>().refresh(_orgId);\n            },\n          ),\n          PopupMenuButton(\n            itemBuilder: (context) => [\n              const PopupMenuItem(\n                value: 'export_pdf',\n                child: Text('Export PDF'),\n              ),\n              const PopupMenuItem(\n                value: 'export_csv',\n                child: Text('Export CSV'),\n              ),\n            ],\n            onSelected: _handleExport,\n          ),\n        ],\n      ),\n      body: Consumer<AnalyticsProvider>(\n        builder: (context, provider, child) {\n          if (provider.isLoading && provider.data == null) {\n            return const Center(child: CircularProgressIndicator());\n          }\n\n          if (provider.error != null) {\n            return _buildErrorView(provider.error!);\n          }\n\n          if (provider.data == null) {\n            return const Center(child: Text('No data available'));\n          }\n\n          return RefreshIndicator(\n            onRefresh: () => provider.refresh(_orgId),\n            child: SingleChildScrollView(\n              physics: const AlwaysScrollableScrollPhysics(),\n              padding: const EdgeInsets.all(16),\n              child: Column(\n                crossAxisAlignment: CrossAxisAlignment.start,\n                children: [\n                  // Stats grid\n                  StatsGrid(data: provider.data!),\n                  const SizedBox(height: 24),\n\n                  // Attendance chart\n                  _buildChartSection(\n                    'Event Attendance',\n                    AnalyticsChart(\n                      data: provider.data!.attendance,\n                      type: ChartType.line,\n                    ),\n                  ),\n                  const SizedBox(height: 24),\n\n                  // Trends chart\n                  _buildChartSection(\n                    'Registration Trends',\n                    AnalyticsChart(\n                      data: provider.data!.trends,\n                      type: ChartType.bar,\n                    ),\n                  ),\n                ],\n              ),\n            ),\n          );\n        },\n      ),\n    );\n  }\n\n  Widget _buildChartSection(String title, Widget chart) {\n    return Column(\n      crossAxisAlignment: CrossAxisAlignment.start,\n      children: [\n        Text(\n          title,\n          style: Theme.of(context).textTheme.titleLarge,\n        ),\n        const SizedBox(height: 12),\n        SizedBox(\n          height: 250,\n          child: Card(\n            child: Padding(\n              padding: const EdgeInsets.all(16),\n              child: chart,\n            ),\n          ),\n        ),\n      ],\n    );\n  }\n\n  Widget _buildErrorView(String error) {\n    return Center(\n      child: Column(\n        mainAxisAlignment: MainAxisAlignment.center,\n        children: [\n          const Icon(\n            Icons.error_outline,\n            size: 64,\n            color: Colors.red,\n          ),\n          const SizedBox(height: 16),\n          Text(\n            'Error loading analytics',\n            style: Theme.of(context).textTheme.titleLarge,\n          ),\n          const SizedBox(height: 8),\n          Padding(\n            padding: const EdgeInsets.symmetric(horizontal: 32),\n            child: Text(\n              error,\n              textAlign: TextAlign.center,\n              style: Theme.of(context).textTheme.bodyMedium,\n            ),\n          ),\n          const SizedBox(height: 16),\n          ElevatedButton(\n            onPressed: () {\n              context.read<AnalyticsProvider>().clearError();\n              context.read<AnalyticsProvider>().loadAnalytics(_orgId);\n            },\n            child: const Text('Retry'),\n          ),\n        ],\n      ),\n    );\n  }\n\n  Future<void> _handleExport(String value) async {\n    final format = value.split('_').last; // 'pdf' or 'csv'\n    \n    try {\n      final result = await context.read<AnalyticsProvider>().exportReport(\n            orgId: _orgId,\n            format: format,\n          );\n\n      if (!mounted) return;\n\n      ScaffoldMessenger.of(context).showSnackBar(\n        SnackBar(\n          content: Text('Report exported successfully'),\n          action: SnackBarAction(\n            label: 'Download',\n            onPressed: () {\n              // Open download URL\n              _openUrl(result['downloadUrl'] as String);\n            },\n          ),\n        ),\n      );\n    } catch (e) {\n      if (!mounted) return;\n      \n      ScaffoldMessenger.of(context).showSnackBar(\n        SnackBar(\n          content: Text('Export failed: $e'),\n          backgroundColor: Colors.red,\n        ),\n      );\n    }\n  }\n\n  String _getCurrentOrgId() {\n    // Get from app state/context\n    return 'org_123';\n  }\n\n  void _openUrl(String url) {\n    // Implementation\n  }\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"reusable-widgets",children:"Reusable Widgets"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-dart",children:"// widgets/stats_grid.dart\nimport 'package:flutter/material.dart';\nimport '../models/analytics_data.dart';\nimport 'stat_card.dart';\n\nclass StatsGrid extends StatelessWidget {\n  final AnalyticsData data;\n\n  const StatsGrid({Key? key, required this.data}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return GridView.count(\n      shrinkWrap: true,\n      physics: const NeverScrollableScrollPhysics(),\n      crossAxisCount: 2,\n      crossAxisSpacing: 12,\n      mainAxisSpacing: 12,\n      childAspectRatio: 1.3,\n      children: [\n        StatCard(\n          title: 'Total Events',\n          value: data.totalEvents.toString(),\n          icon: Icons.event,\n          color: Colors.blue,\n        ),\n        StatCard(\n          title: 'Total Attendees',\n          value: data.totalAttendees.toString(),\n          icon: Icons.people,\n          color: Colors.green,\n        ),\n        StatCard(\n          title: 'Avg Attendance',\n          value: '${data.avgAttendance.toStringAsFixed(1)}%',\n          icon: Icons.trending_up,\n          color: Colors.orange,\n        ),\n        StatCard(\n          title: 'Active Today',\n          value: data.activeToday.toString(),\n          icon: Icons.today,\n          color: Colors.purple,\n        ),\n      ],\n    );\n  }\n}\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-dart",children:"// widgets/stat_card.dart\nimport 'package:flutter/material.dart';\n\nclass StatCard extends StatelessWidget {\n  final String title;\n  final String value;\n  final IconData icon;\n  final Color color;\n\n  const StatCard({\n    Key? key,\n    required this.title,\n    required this.value,\n    required this.icon,\n    required this.color,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Card(\n      elevation: 2,\n      child: Padding(\n        padding: const EdgeInsets.all(12),\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: [\n            Icon(icon, size: 32, color: color),\n            const SizedBox(height: 8),\n            Text(\n              value,\n              style: const TextStyle(\n                fontSize: 24,\n                fontWeight: FontWeight.bold,\n              ),\n            ),\n            const SizedBox(height: 4),\n            Text(\n              title,\n              style: TextStyle(\n                fontSize: 12,\n                color: Colors.grey[600],\n              ),\n              textAlign: TextAlign.center,\n              maxLines: 2,\n              overflow: TextOverflow.ellipsis,\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-dart",children:"// widgets/analytics_chart.dart\nimport 'package:flutter/material.dart';\nimport 'package:fl_chart/fl_chart.dart';\nimport '../models/analytics_data.dart';\n\nenum ChartType { line, bar }\n\nclass AnalyticsChart extends StatelessWidget {\n  final List<DataPoint> data;\n  final ChartType type;\n\n  const AnalyticsChart({\n    Key? key,\n    required this.data,\n    required this.type,\n  }) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return type == ChartType.line\n        ? _buildLineChart(context)\n        : _buildBarChart(context);\n  }\n\n  Widget _buildLineChart(BuildContext context) {\n    return LineChart(\n      LineChartData(\n        gridData: FlGridData(\n          show: true,\n          drawVerticalLine: false,\n        ),\n        titlesData: FlTitlesData(\n          leftTitles: AxisTitles(\n            sideTitles: SideTitles(showTitles: true, reservedSize: 40),\n          ),\n          bottomTitles: AxisTitles(\n            sideTitles: SideTitles(showTitles: true, reservedSize: 30),\n          ),\n          rightTitles: AxisTitles(\n            sideTitles: SideTitles(showTitles: false),\n          ),\n          topTitles: AxisTitles(\n            sideTitles: SideTitles(showTitles: false),\n          ),\n        ),\n        borderData: FlBorderData(show: true),\n        lineBarsData: [\n          LineChartBarData(\n            spots: data.asMap().entries.map((e) {\n              return FlSpot(e.key.toDouble(), e.value.count.toDouble());\n            }).toList(),\n            isCurved: true,\n            color: Theme.of(context).colorScheme.primary,\n            barWidth: 3,\n            dotData: FlDotData(show: true),\n            belowBarData: BarAreaData(\n              show: true,\n              color: Theme.of(context).colorScheme.primary.withOpacity(0.1),\n            ),\n          ),\n        ],\n      ),\n    );\n  }\n\n  Widget _buildBarChart(BuildContext context) {\n    return BarChart(\n      BarChartData(\n        gridData: FlGridData(show: true, drawVerticalLine: false),\n        titlesData: FlTitlesData(\n          leftTitles: AxisTitles(\n            sideTitles: SideTitles(showTitles: true, reservedSize: 40),\n          ),\n          bottomTitles: AxisTitles(\n            sideTitles: SideTitles(showTitles: true, reservedSize: 30),\n          ),\n          rightTitles: AxisTitles(\n            sideTitles: SideTitles(showTitles: false),\n          ),\n          topTitles: AxisTitles(\n            sideTitles: SideTitles(showTitles: false),\n          ),\n        ),\n        borderData: FlBorderData(show: true),\n        barGroups: data.asMap().entries.map((e) {\n          return BarChartGroupData(\n            x: e.key,\n            barRods: [\n              BarChartRodData(\n                toY: e.value.count.toDouble(),\n                color: Theme.of(context).colorScheme.secondary,\n                width: 16,\n                borderRadius: const BorderRadius.vertical(\n                  top: Radius.circular(4),\n                ),\n              ),\n            ],\n          );\n        }).toList(),\n      ),\n    );\n  }\n}\n"})}),"\n",(0,i.jsx)(e.h2,{id:"step-5-plugin-entry-point",children:"Step 5: Plugin Entry Point"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-dart",children:"// index.dart\nimport 'package:flutter/material.dart';\nimport 'package:provider/provider.dart';\nimport 'package:graphql_flutter/graphql_flutter.dart';\nimport 'package:talawa/plugin_system/plugin_interface.dart';\n\nimport 'screens/analytics_dashboard.dart';\nimport 'services/analytics_provider.dart';\n\nclass EventAnalyticsPlugin implements TalawaMobilePlugin {\n  @override\n  String get pluginId => 'event_analytics';\n\n  @override\n  String get name => 'Event Analytics';\n\n  @override\n  String get version => '1.0.0';\n\n  @override\n  Future<void> onInstall() async {\n    print('[Event Analytics] Plugin installed');\n  }\n\n  @override\n  Future<void> onActivate() async {\n    print('[Event Analytics] Plugin activated');\n    \n    // Initialize provider\n    final client = GraphQLProvider.of(navigatorKey.currentContext!).value;\n    final provider = AnalyticsProvider(client);\n    await provider.init();\n  }\n\n  @override\n  Future<void> onDeactivate() async {\n    print('[Event Analytics] Plugin deactivated');\n  }\n\n  @override\n  Future<void> onUninstall() async {\n    print('[Event Analytics] Plugin uninstalled');\n  }\n\n  @override\n  Map<String, WidgetBuilder> get routes => {\n        '/event-analytics/dashboard': (context) {\n          final client = GraphQLProvider.of(context).value;\n          return ChangeNotifierProvider(\n            create: (_) => AnalyticsProvider(client)..init(),\n            child: const AnalyticsDashboard(),\n          );\n        },\n      };\n\n  @override\n  List<DrawerMenuItem> get drawerItems => [\n        DrawerMenuItem(\n          id: 'analytics_menu',\n          label: 'Event Analytics',\n          icon: Icons.analytics,\n          route: '/event-analytics/dashboard',\n          order: 50,\n        ),\n      ];\n\n  @override\n  Map<String, WidgetBuilder> get extensions => {};\n}\n\nfinal eventAnalyticsPlugin = EventAnalyticsPlugin();\n"})}),"\n",(0,i.jsx)(e.h2,{id:"step-6-testing",children:"Step 6: Testing"}),"\n",(0,i.jsx)(e.p,{children:"See [Testing Guide] for comprehensive testing strategies."}),"\n",(0,i.jsx)(e.h2,{id:"step-7-package-plugin",children:"Step 7: Package Plugin"}),"\n",(0,i.jsx)(e.h3,{id:"create-readme",children:"Create README"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-markdown",children:"# Event Analytics Plugin\n\nAdvanced analytics and insights for Talawa organization events.\n\n## Features\n\n- Event attendance tracking\n- Registration trends\n- Performance metrics\n- Export reports (PDF/CSV)\n\n## Installation\n\nThis plugin is bundled with Talawa mobile app.\n\n## Usage\n\n1. Navigate to **Event Analytics** from the main menu\n2. View analytics for your organization\n3. Switch time ranges (week/month/year)\n4. Export reports as needed\n\n## Requirements\n\n- Talawa Mobile v3.0.0+\n- Permissions: READ_EVENTS, READ_USERS, READ_ORGANIZATIONS\n\n## License\n\nMIT\n"})}),"\n",(0,i.jsx)(e.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(e.h3,{id:"performance",children:"Performance"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-dart",children:"// Use const constructors\nconst StatCard(...);\n\n// Memoize expensive computations\nfinal processedData = useMemoized(() => process(data), [data]);\n\n// Lazy load screens\nlate final screen = AnalyticsDashboard();\n"})}),"\n",(0,i.jsx)(e.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-dart",children:"// Comprehensive error handling\ntry {\n  await provider.loadAnalytics(orgId);\n} on AnalyticsException catch (e) {\n  showErrorSnackbar(e.message);\n} on NetworkException catch (e) {\n  showNetworkError();\n} catch (e) {\n  showGenericError();\n}\n"})}),"\n",(0,i.jsx)(e.h3,{id:"accessibility",children:"Accessibility"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-dart",children:"// Add semantics\nSemantics(\n  label: 'Total events: ${data.totalEvents}',\n  child: StatCard(...),\n)\n"})}),"\n",(0,i.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:(0,i.jsx)(e.a,{href:"https://docs-mobile.talawa.io/docs/docs/flutter-testing",children:"Testing Guide"})}),": Write comprehensive tests"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"resources",children:"Resources"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://docs.flutter.dev/perf/best-practices",children:"Flutter Best Practices"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://m3.material.io",children:"Material Design"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"https://pub.dev/packages/provider",children:"Provider Package"})}),"\n"]})]})}function u(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(c,{...n})}):c(n)}}}]);
"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[43],{154:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"docs/developer-resources/container-plugins","title":"Containerizing Plugins","description":"Some plugins may require significant resources (e.g. ML models, media processing, or long-running tasks). These can be containerized using Docker to isolate them from the main Talawa services and maintain performance and stability.","source":"@site/docs/docs/developer-resources/container-plugins.md","sourceDirName":"docs/developer-resources","slug":"/developer-resources/container-plugins","permalink":"/docs/developer-resources/container-plugins","draft":false,"unlisted":false,"editUrl":"https://github.com/PalisadoesFoundation/talawa-plugin/edit/develop/docs/docs/docs/developer-resources/container-plugins.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"container-plugins","title":"Containerizing Plugins","slug":"/developer-resources/container-plugins","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Introduction","permalink":"/docs/developer-resources/introduction"},"next":{"title":"Testing","permalink":"/docs/developer-resources/testing"}}');var s=i(6070),l=i(7648);const o={id:"container-plugins",title:"Containerizing Plugins",slug:"/developer-resources/container-plugins",sidebar_position:3},t="Containerizing Heavy Plugins",a={},c=[{value:"Why Use Containers?",id:"why-use-containers",level:2},{value:"Structure",id:"structure",level:2},{value:"Sample Dockerfile",id:"sample-dockerfile",level:2},{value:"Communication Pattern",id:"communication-pattern",level:2},{value:"Running Plugin Containers",id:"running-plugin-containers",level:2},{value:"Security Best Practices",id:"security-best-practices",level:2},{value:"When to Use",id:"when-to-use",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"containerizing-heavy-plugins",children:"Containerizing Heavy Plugins"})}),"\n",(0,s.jsx)(n.p,{children:"Some plugins may require significant resources (e.g. ML models, media processing, or long-running tasks). These can be containerized using Docker to isolate them from the main Talawa services and maintain performance and stability."}),"\n",(0,s.jsx)(n.h2,{id:"why-use-containers",children:"Why Use Containers?"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Run resource-heavy workloads like AI summarization or OCR"}),"\n",(0,s.jsx)(n.li,{children:"Keep plugin dependencies isolated from the main environment"}),"\n",(0,s.jsx)(n.li,{children:"Deploy independent services with their own lifecycles"}),"\n",(0,s.jsx)(n.li,{children:"Communicate via secure API with Talawa server or plugins"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"structure",children:"Structure"}),"\n",(0,s.jsx)(n.p,{children:"Place the container configuration inside your plugin folder:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"plugins/\n\u2514\u2500\u2500 my-heavy-plugin/\n    \u251c\u2500\u2500 server/\n    \u251c\u2500\u2500 admin/\n    \u251c\u2500\u2500 mobile/\n    \u2514\u2500\u2500 docker/\n        \u251c\u2500\u2500 Dockerfile\n        \u2514\u2500\u2500 start.sh\n"})}),"\n",(0,s.jsx)(n.h2,{id:"sample-dockerfile",children:"Sample Dockerfile"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-Dockerfile",children:'FROM python:3.10-slim\n\nWORKDIR /app\n\n# Install dependencies\nCOPY docker/requirements.txt .\nRUN pip install -r requirements.txt\n\n# Copy plugin server files\nCOPY docker/ .\nCOPY server/ /app/server\n\n# Expose service\nEXPOSE 5001\n\n# Start service\nCMD ["python", "server/main.py"]\n'})}),"\n",(0,s.jsx)(n.h2,{id:"communication-pattern",children:"Communication Pattern"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Expose the plugin container over HTTP or WebSocket (e.g. port 5001)"}),"\n",(0,s.jsx)(n.li,{children:"Talawa API calls the plugin via REST/GraphQL"}),"\n",(0,s.jsx)(n.li,{children:"Plugins may also publish Webhooks back to Talawa"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["You can define your container URL inside ",(0,s.jsx)(n.code,{children:"plugin.json"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'"runtime": {\n  "type": "container",\n  "endpoint": "http://localhost:5001"\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"running-plugin-containers",children:"Running Plugin Containers"}),"\n",(0,s.jsx)(n.p,{children:"Use Docker Compose for development:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"services:\n  plugin-survey-ai:\n    build: ./plugins/survey-ai/docker\n    ports:\n      - 5001:5001\n    environment:\n      - MODEL_PATH=/app/models\n"})}),"\n",(0,s.jsx)(n.p,{children:"Run with:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker-compose up -d\n"})}),"\n",(0,s.jsx)(n.h2,{id:"security-best-practices",children:"Security Best Practices"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Do not expose plugin containers publicly"}),"\n",(0,s.jsx)(n.li,{children:"Validate all data passed from/to containers"}),"\n",(0,s.jsx)(n.li,{children:"Use resource limits in production"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"when-to-use",children:"When to Use"}),"\n",(0,s.jsx)(n.p,{children:"\u2705 Ideal for:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Machine Learning plugins (e.g., summarisation, image tagging)"}),"\n",(0,s.jsx)(n.li,{children:"Document parsers or video processors"}),"\n",(0,s.jsx)(n.li,{children:"Isolated backend tools"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u274c Avoid if:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Plugin only renders UI or simple APIs"}),"\n",(0,s.jsx)(n.li,{children:"Plugin runs entirely within the browser or admin panel"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Containerization allows you to build powerful, scalable plugins that run independently while integrating tightly with Talawa."})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},7648:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>t});var r=i(758);const s={},l=r.createContext(s);function o(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);